# IO&点亮LED

#### 概述

芯片如何控制外部电路？从本课开始，让我们一起一点一点把单片机系统的框架搭建起来。

本课，学习最简单的、也是最基本的:IO.

本课讲以下几个问题：

1. IO是什么？
2. STM32的IO有什么特点。
3. LED如何使用？
4. 编码和调试过程（这段看视频更好）

#### IO 是什么？

IO是Input&Output，也就是输入和输出。

我们看STM32103这款芯片，管脚总共有100。但是规格书中写，IO口只有88，为什么？

我们从管脚名称上去看，只要是P开头的，就是IO。

除了IO，有些管脚是用来做电源和地，有些是用来做晶振，有些是用来做BOOT配置。

IO口复用，用作其他功能。比如SPI，I2C等。

我们说的IO功能，通常是一个IO口的基本功能：GPIO。

也就是说，一个IO口除了能做GPIO之外，还可以配置为其他功能。

那GPIO是用来做什么的呢？

通用输入输出。输入什么？输出什么呢？

输入输出电平，而且是数字电平，只有两种，高电平和低电平，也即是我们常说的数字逻辑1和0.

输出，就是输出1和0，输入，就是检测接到管脚上的电平是1还是0.

1是什么？0是什么？

1就是高电平，0就是低电平。

高电平通常就是芯片的工作电压（IO电压）， 低电平就是0V。

其实这样说并不准确，高低电平是范围的，并不是只有0V和3V3这两个电压。

看规格书。

#### STM32 IO特点

以前8051单片机非常简单，只要设置IO口的方向是输出还是输入，就可以工作了。

这样用起来虽然简单，但是却无法满足各种应用场景。

因此，高级一点的芯片，IO口通常有很多功能可以配置。

STM32就是这样的一款芯片。

要知道STM32的IO口具体有什么功能可以配置，可以去看DATASHEET。

ST提供了库和例子，所以我们有更方便、更感官的方法了解IO口，那就是去看库中提供的IO口操作函数都提供了哪些接口给我们使用，特别是初始化IO口的接口，从初始化接口可以看到IO口的配置。

从例程看使用了哪些IO口，看库函数的说明。



#### 如何使用LED

LED是发光二极管的简称。

在两端加上电压，有电流流过时就会发光。

看规格书，看参数，算限流电阻。

如何用MCU控制呢？

从原理图讲，讲灌电流拉电流的区别。

#### 编码与调试

对原理图 找到对应的IO

PE15 PD8 PD9 PD10

要记得打开外设时钟

第一次试验 还没设置IO口，知识初始化 就亮了， 为什么？
第二次试验 先设置输入输出的值，在初始化IO口
第三次试验 无延时的流水灯， 先单步 再全速，全速有什么区别？亮度没那么亮了？

讲程序，简一点C语言的编码知识。

十进制  十六进制的数值定义。
加延时  关键字 volatile

C 语言知识点 宏定义

#### 作业问题

问题， 为什么代码能控制IO口？

> 看库函数到底做了什么

----